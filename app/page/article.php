<?php include '../../boot.php';?><?php// --------------------------------------------------------------------------------------------// CONTROLER SECTION$msg = null;$id = null;$article = null;$checkID = false;if(isset($_GET['id']) && !empty($_GET['id'])){       $checkID = AKcheckGetParam($_GET['id'], 'NUMERIC');    if($checkID)    {        $id = $_GET['id'];        $article = loadArticle($id);                 // Icône pour marquer les article non publiés        ($article['published'])? $icon ='' : $icon ='<i class="mdi mdi-eye-off-outline" data-bs-toggle="tooltip" data-bs-placement="top" title="Not published"></i>';                if($article != null && $article != false)            $jointFiles = loadJointFiles($id);        else{            // Message drôle d'article            $feedback = "Information : This article does not exist";            $msg = AKMakeDiv('info', 'alert alert-info text-center mt-2', $feedback, 'alert');        }            }else{        // Message drôle d'article        $feedback = "Hazard : It's a weird article";        $msg = AKMakeDiv('danger', 'alert alert-danger text-center mt-2', $feedback, 'alert');    }}else{    // Message Oups Houston we have a problem    $feedback = "Ouch : The application encountered a problem while loading the article";    $msg = AKMakeDiv('info', 'alert alert-info text-center mt-2', $feedback, 'alert');}    // --------------------------------------------------------------------------------------------// TEMPLATE SECTION// --------------------------------------------------------------------------------------------// Instanciation du moteur de template$page = 'P-ARTICLE';$engine = new Template(ABSPATH . D_APP . DS . D_VIEW . DS);$engine->set_file($page, 'article-tpl.html');// --------------------------------------------------------------------------------------------// Var Initialization$pageTitle = 'Alain Kelleter - There is no article to offer you';$engine->set_var('message', $msg);if(isset($_GET['id']) && !empty($_GET['id']) && $checkID && $article != null && $article != false){    $pageTitle = 'Alain Kelleter - Article : '.$article['title'];    $engine->set_var('article-date', convertDateEnToFr($article['date']));    $engine->set_var('article-title', $article['title']. ' '.$icon);    $engine->set_var('article-teaser', html_entity_decode($article['teaser']));    $engine->set_var('HTMLArticle', HTMLContentArticle($article));    $engine->set_var('HTMLArticleFiles', HTMLArticleFiles($jointFiles));        // Menu Article    $engine->set_var('menu-article', HTMLMenuArticle($id));    }// Include common constant and var include ABSPATH . DS . D_APP . DS . 'common.php';// --------------------------------------------------------------------------------------------// DEBUG SECTION// --------------------------------------------------------------------------------------------+// Remplacement des variables du template par les valeurs associées$engine->parse('display', $page);// Rendu du template$engine->p('display');